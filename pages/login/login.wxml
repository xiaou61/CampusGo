<view class="login-page-wrapper">
  <view class="login-page">
    <view>
      <image class = "logo" src="{{school_logo}}" mode="aspectFit"/>
    </view>
    <view class="login-container">
      <view class="login-header">
        <text class="title">æ¬¢è¿å›æ¥</text>
        <text class="subtitle">è¯·ç™»å½•æ‚¨çš„è´¦æˆ·</text>
      </view>

      <form class="login-form" bindsubmit="handleLogin">
        <view class="form-group">
          <text class="label">å­¦å·</text>
          <input 
            class="input {{studentNumberError ? 'error' : ''}}" 
            type="text" 
            value="{{studentNumber}}"
            bindinput="onStudentNumberInput"
            bindblur="validateStudentNumber"
            maxlength="20"
          />
          <text class="error-message" wx:if="{{studentNumberError}}">{{studentNumberError}}</text>
        </view>

        <view class="form-group">
          <text class="label">å¯†ç </text>
          <view class="password-wrapper">
            <input 
              class="input {{passwordError ? 'error' : ''}}" 
              type="{{showPassword ? 'text' : 'password'}}" 
              value="{{password}}"
              bindinput="onPasswordInput"
              bindblur="validatePassword"
              password="{{!showPassword}}"
              maxlength="20"
            />
            <text class="password-toggle" bindtap="togglePassword" hover-class="button-hover">
              {{showPassword ? 'ğŸ™ˆ' : 'ğŸ‘ï¸'}}
            </text>
          </view>
          <text class="error-message" wx:if="{{passwordError}}">{{passwordError}}</text>
        </view>

        <view class="form-options">
          <view class="remember-me">
            <checkbox class="remember-me-checkbox" checked="{{rememberMe}}" bindtap="toggleRememberMe" />
            <text>è®°ä½æˆ‘</text>
          </view>
          <text class="forgot-password" bindtap="onForgotPassword" hover-class="link-hover">å¿˜è®°å¯†ç ï¼Ÿ</text>
        </view>

        <button 
          class="login-btn {{loading ? 'loading' : ''}} {{(!studentNumber || !password) ? 'disabled' : ''}}" 
          form-type="submit"
          disabled="{{loading || !studentNumber || !password}}"
          hover-class="button-hover"
        >
          <view class="btn-content">
            <view class="spinner" wx:if="{{loading}}"></view>
            <text>{{loading ? 'ç™»å½•ä¸­...' : 'ç™»å½•'}}</text>
          </view>
        </button>
      </form>
    </view>
  </view>
</view>